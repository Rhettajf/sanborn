(function(){"use strict";var e,t,n;e=jQuery;t=function(){function e(){}e.transitions={webkitTransition:"webkitTransitionEnd",mozTransition:"mozTransitionEnd",oTransition:"oTransitionEnd",transition:"transitionend"};e.transition=function(e){var t,n,r,i;t=e[0];i=this.transitions;for(r in i){n=i[r];if(t.style[r]!=null){return n}}};e.execute=function(e,t){var n;n=this.transition(e);if(n!=null){return e.one(n,t)}else{return t()}};return e}();n=function(){function n(t,r){if(r==null){r={}}this.$el=t;this.settings=e.extend({},n.defaults,r);if(!this.$active().length){this.$previews().first().toggleClass("active")}}n.defaults={};n.prototype.next=function(){return this.go("next")};n.prototype.prev=function(){return this.go("prev")};n.prototype.$fallback=function(e){var t;t=function(){switch(e){case"prev":return"last";case"next":return"first"}}();return this.$(".previews .preview")[t]()};n.prototype.$previews=function(){return this.$(".previews .preview")};n.prototype.$active=function(){return this.$(".previews .preview.active")};n.prototype.swap=function(e,n,r,i){var s,o;if(i==null){i="active"}s=""+r+"ing";n.addClass(r);n.offset().position;e.addClass(s);n.addClass(s);o=function(){e.removeClass(i).removeClass(s);return n.addClass(i).removeClass(s).removeClass(r)};return t.execute(e,o)};n.prototype.page=function(e){var t,n,r,i;t=this.$active();n=this.$previews().eq(e);i=this.$previews().index(t);r=i>e?"prev":"next";if(n.is(t)){return}return this.swap(t,n,r)};n.prototype.go=function(e){var t,n;t=this.$active();n=t[e]();if(!n.length){n=this.$fallback(e)}if(n.is(t)){return}return this.swap(t,n,e)};n.prototype.$=function(e){return this.$el.find(e)};return n}();e.fn.extend({carousel:function(t){if(t==null){t={}}return this.each(function(){var r,i,s,o,u;r=e(this);s=r.data("carousel");o=e.extend({},e.fn.carousel.defaults,typeof t==="object"&&t);i=typeof t==="string"?t:t.action;if(typeof o!=="string"){u=t.page}if(s==null){r.data("carousel",s=new n(r,o))}if(i!=null){s[i]()}if(u!=null){return s.page(o.page)}})}});e(document).on("click.carousel","[data-action],[data-page]",function(t){var n,r,i;r=e(this);n=r.closest(".carousel");if(!n.length){return}t.preventDefault();t.stopPropagation();i=e.extend({},n.data(),r.data());return n.carousel(i)});e(function(){return e(".carousel").each(function(){return e(this).carousel()})})}).call(this)